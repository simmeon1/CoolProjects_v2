Table usage instructions:
<ul>
    <li>Populate form above and hit submit to repopulate table.</li>
    <li>Drag and drop players using the left most cell. Indexes and matchups will get updated.</li>
    <li>Click on player to highlight/unhighlight them along with the partners they will play with.</li>
    <li>Even-numbered courts have a darker shade.</li>
</ul>
<mat-table #table [dataSource]="playerRowsDatasource()" cdkDropList
           (cdkDropListDropped)="drop(
                table,
                $event.item.data.name,
                $event.currentIndex
           )"
           cdkDropListData="dataSource"
           [trackBy]="trackByName"
>
    <ng-container matColumnDef="position" sticky>
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell class="handle" cdkDragHandle *matCellDef="let element">
            <mat-icon>reorder</mat-icon>
        </mat-cell>
    </ng-container>

    <ng-container matColumnDef="courtIndex">
        <mat-header-cell *matHeaderCellDef>Court</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.courtIndex }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="playerIndex">
        <mat-header-cell *matHeaderCellDef>No.</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.playerIndex }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{ element.name }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="matchups">
        <mat-header-cell *matHeaderCellDef>Matchups</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.matchups }}</mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row (click)="selectIndex(i)"
             *matRowDef="let row; columns: displayedColumns; let i = index" cdkDrag [cdkDragData]="row"
             [class.selected-row]="i === selectedIndex()"
             [class.even-court]="row.courtIndex % 2 === 0"
             [class.partner-of-selected]="isPartnerOfSelected(row.name)"
    >
    </mat-row>
</mat-table>
